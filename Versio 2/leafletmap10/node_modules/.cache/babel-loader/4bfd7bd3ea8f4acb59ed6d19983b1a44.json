{"ast":null,"code":"var _jsxFileName = \"/home/developer/leafletmap10/src/Map.js\";\nimport React from 'react';\nimport { Map as LeafletMap, Marker, Popup, TileLayer } from 'react-leaflet';\nimport { GeoJSON } from 'react-leaflet';\nimport axios from 'axios';\nimport { statements } from '@babel/template'; //import L from 'leaflet';\n\nimport ReactDOM from 'react-dom';\nimport Ajax from 'react-ajax';\n\nclass Map extends React.Component {\n  constructor() {\n    super();\n\n    this.generateArray = e => {\n      let newarray = [];\n      this.setState({\n        markers: [...this.state.markers, newarray]\n      });\n    };\n\n    this.onEachFeature = (feature, layer) => {\n      layer.on('click', function (e) {\n        var omalayer = e.target; //alert('Clicked: ' + omalayer.feature.properties.name);\n\n        omalayer.bindPopup(omalayer.feature.properties.NIMI + \" \" + omalayer.feature.properties.URL);\n      });\n    };\n\n    this.state = {\n      /*lat: 37.81893781173967,\n          lng: -122.47867584228514,\n          zoom: 13,\n          open: false,*/\n\n      /*omadata: [\n        {\n          \"type\": \"FeatureCollection\",\n          \"features\": [\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"FID\": 2,\n                \"NIMI\": \"Elielinaukio\",\n                \"URL\": \"<a href ='https://www.google.com/'>Google</a>\"\n              },\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                  24.840087890624996,\n                  60.75915950226991\n                ]\n              }\n            }\n            ,\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"FID\": 3,\n                \"NIMI\": \"Rautatientori\",\n                \"URL\": \"<a href ='https://www.google.com/'>Google</a>\"\n              },\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                  25.6201171875,\n                  60.89304469510537\n                ]\n              }\n            }\n          ]\n        }\n      ]*/\n      omadata: []\n    }; //kokeilu\n    //this.renderRecipes=this.renderRecipes.bind(this);\n  }\n  /*componentWillMount()\n  {\n    axios.get('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n    .then(response => {this.setState({response});\n    });\n  }*/\n  //Collections?\n\n\n  componentDidMount3() {\n    axios.get('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson').then(response => {\n      const omadata = response.data; //this.setState({omadata: [...this.state.omadata]});\n      //this.setState({omadata});\n\n      this.setState({\n        omadata: response.recipes\n      });\n      console.log(omadata);\n    });\n  }\n\n  componentDidMount5() {\n    Ajax.getJSON('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson').then(response => {\n      this.setState({\n        extHTML: response\n      });\n    }, err => {\n      alert(\"eror ajaxissa\");\n    });\n  }\n\n  componentDidMount4() {\n    axios.get('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson').then(({\n      response\n    }) => {\n      //this.setState({omadata:response.recipes});    //aiheuttaa errorin\n      this.setState({\n        omadata: response\n      }); //console.log(response);\n      //this.omadata=response;  //ei toimi\n\n      /*this.setState((response)=>(\n      {\n        omadata: response\n      }));*/\n      //this.setState({omadata:[...response]});   //erroria\n      //const omadata=response;\n      //this.setState([...omadata]);\n    }).catch(err => {\n      alert(\"error\");\n    });\n  } //https://techiediaries.com/react-ajax\n\n\n  componentDidMount() {\n    fetch('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson').then(response => response.json()).then(jsonData => {\n      //this.state.omadata=jsonData;\n      //this.setState({omadata:[...this.state.omadata, jsonData]});\n      //for(var i=0;i<10;i++)\n      //this.setState({omadata:jsonData.data.children,\n      //  LastPostName: jsonData.data.children[jsonData.data.children.length-1].data.name});\n      console.log(\"x\" + jsonData);\n      alert(\"data: \" + this.state.omadata);\n    }).catch(error => {\n      alert(\"error jsondata: \" + error);\n    });\n  } //https://www.reddit.com/r/reactjs/comments/a6nwqp/how_to_add_an_object_to_a_2d_array\n\n\n  componentDidMount2() {\n    fetch('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson').then(response => response.json()).then(omadata => this.setState({\n      omadata: [...this.state.omadata]\n    })); //console.log(omadata);\n  }\n\n  render() {\n    const position = [this.state.lat, this.state.lng];\n    return React.createElement(LeafletMap, {\n      center: [50, 10],\n      zoom: 6,\n      maxZoom: 10,\n      attributionControl: true,\n      zoomControl: true,\n      doubleClickZoom: true,\n      scrollWheelZoom: true,\n      dragging: true //animate=import GeoJson from 'react';{true}\n      ,\n      easeLinearity: 0.35,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      url: \"http://{s}.tile.osm.org/{z}/{x}/{y}.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(Marker, {\n      position: [50, 10],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Popup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Popup for any custom information.\")), React.createElement(GeoJSON, {\n      data: this.state.omadata,\n      style: this.getStyle,\n      onEachFeature: this.onEachFeature,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }));\n  }\n\n  getStyle(feature, layer) {\n    return {\n      color: '#006400',\n      weight: 5,\n      opacity: 0.65\n    };\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/home/developer/leafletmap10/src/Map.js"],"names":["React","Map","LeafletMap","Marker","Popup","TileLayer","GeoJSON","axios","statements","ReactDOM","Ajax","Component","constructor","generateArray","e","newarray","setState","markers","state","onEachFeature","feature","layer","on","omalayer","target","bindPopup","properties","NIMI","URL","omadata","componentDidMount3","get","then","response","data","recipes","console","log","componentDidMount5","getJSON","extHTML","err","alert","componentDidMount4","catch","componentDidMount","fetch","json","jsonData","error","componentDidMount2","render","position","lat","lng","getStyle","color","weight","opacity"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Map as LeafletMap, Marker, Popup, TileLayer } from 'react-leaflet';\nimport {GeoJSON} from 'react-leaflet';\nimport axios from 'axios';\nimport { statements } from '@babel/template';\n//import L from 'leaflet';\nimport ReactDOM from 'react-dom';\nimport Ajax from 'react-ajax';\n\nclass Map extends React.Component\n{\n  constructor()\n  {\n    super();\n\n    this.state={\n\n  /*lat: 37.81893781173967,\n      lng: -122.47867584228514,\n      zoom: 13,\n      open: false,*/\n\n      /*omadata: [\n        {\n          \"type\": \"FeatureCollection\",\n          \"features\": [\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"FID\": 2,\n                \"NIMI\": \"Elielinaukio\",\n                \"URL\": \"<a href ='https://www.google.com/'>Google</a>\"\n              },\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                  24.840087890624996,\n                  60.75915950226991\n                ]\n              }\n            }\n            ,\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"FID\": 3,\n                \"NIMI\": \"Rautatientori\",\n                \"URL\": \"<a href ='https://www.google.com/'>Google</a>\"\n              },\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [\n                  25.6201171875,\n                  60.89304469510537\n                ]\n              }\n            }\n          ]\n        }\n      ]*/\n\n      omadata: []\n    };\n\n    //kokeilu\n    //this.renderRecipes=this.renderRecipes.bind(this);\n  }\n\n  /*componentWillMount()\n  {\n    axios.get('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n    .then(response => {this.setState({response});\n    });\n  }*/\n\n  //Collections?\n  componentDidMount3()\n  {\n    axios.get('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n      .then((response) =>\n    {\n        const omadata=response.data;\n        //this.setState({omadata: [...this.state.omadata]});\n        //this.setState({omadata});\n        this.setState({omadata:response.recipes});\n        console.log(omadata);\n    })\n  }\n\n  componentDidMount5()\n  {\n    Ajax.getJSON('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n      .then(\n        response => {\n          this.setState({\n            extHTML: response\n          });\n        }, err => {\n          alert(\"eror ajaxissa\");\n        }\n      );\n  }\n\n  componentDidMount4()\n  {\n    axios.get('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n      .then(({response}) =>\n    {\n        //this.setState({omadata:response.recipes});    //aiheuttaa errorin\n        \n        this.setState({omadata:response});\n        //console.log(response);\n\n        //this.omadata=response;  //ei toimi\n        /*this.setState((response)=>(\n        {\n          omadata: response\n        }));*/\n\n        //this.setState({omadata:[...response]});   //erroria\n\n        //const omadata=response;\n        //this.setState([...omadata]);\n    })\n    .catch((err)=>{alert(\"error\");})\n  }\n\n  //https://techiediaries.com/react-ajax\n  componentDidMount()\n  {\n    fetch('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n      .then(response => response.json())\n      .then((jsonData) => {\n        //this.state.omadata=jsonData;\n        //this.setState({omadata:[...this.state.omadata, jsonData]});\n\n        //for(var i=0;i<10;i++)\n          \n        //this.setState({omadata:jsonData.data.children,\n        //  LastPostName: jsonData.data.children[jsonData.data.children.length-1].data.name});\n\n        console.log(\"x\" + jsonData);\n\n        alert(\"data: \" + this.state.omadata);\n      })\n      .catch((error) =>\n      {\n        alert(\"error jsondata: \" + error);\n      })\n  }\n\n  //https://www.reddit.com/r/reactjs/comments/a6nwqp/how_to_add_an_object_to_a_2d_array\n  generateArray=(e)=>\n  {\n    let newarray=[]\n    this.setState(\n      {markers: [...this.state.markers,newarray]})\n  }\n\n\n  componentDidMount2()\n  {\n    fetch('https://gist.githubusercontent.com/NL-0/b6f17f8f86598eab84087db42c78f83a/raw/9699816ee7b9336e383d24082c40456bceaf6ff9/hel4.geojson')\n    .then(response => response.json())\n    .then(omadata => this.setState({omadata: [...this.state.omadata]}));\n    //console.log(omadata);\n  }\n\n  render()\n  {\n    const position = [this.state.lat, this.state.lng];\n\n    return (\n      <LeafletMap\n      center={[50, 10]}\n      zoom={6}\n      maxZoom={10}\n      attributionControl={true}\n      zoomControl={true}\n      doubleClickZoom={true}\n      scrollWheelZoom={true}\n      dragging={true}\n      //animate=import GeoJson from 'react';{true}\n      easeLinearity={0.35}\n    >\n      <TileLayer\n        url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\n      />\n      <Marker position={[50, 10]}>\n        <Popup>\n          Popup for any custom information.\n        </Popup>\n      </Marker>\n\n      {/*<GeoJSON data={getGeoJson()} style={this.getStyle} onEachFeature={this.onEachFeature}/>*/}\n         <GeoJSON data={this.state.omadata} style={this.getStyle} onEachFeature={this.onEachFeature}/>\n  \n    </LeafletMap>\n  );   \n  }\n\n  onEachFeature = (feature, layer) =>\n  {\n    layer.on('click', function(e)\n    {\n      var omalayer=e.target;\n      //alert('Clicked: ' + omalayer.feature.properties.name);\n      omalayer.bindPopup(omalayer.feature.properties.NIMI + \" \"\n        + omalayer.feature.properties.URL);\n    });\n  }\n\n  getStyle(feature, layer) {\n    return {\n      color: '#006400',\n      weight: 5,\n      opacity: 0.65\n    }\n  }\n}\n\nexport default Map\n"]},"metadata":{},"sourceType":"module"}